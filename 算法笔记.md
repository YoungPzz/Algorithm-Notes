# ä¸€ã€åŸºç¡€ç®—æ³•

### 1.æ’åº

#### 1.1 å¿«æ’

##### æ€æƒ³

â€‹	ä¸»è¦æ€æƒ³ï¼š**åŸºäºåˆ†æ²»**

â€‹	æ­¥éª¤ï¼š

â€‹	â‘ ç¡®å®šåˆ†ç•Œç‚¹ï¼šæœ€å·¦ã€æœ€å³ã€ä¸­é—´  ä¸‰ä¸ªå–å…¶ä¸€  ---->x

â€‹	â‘¡è°ƒæ•´åŒºé—´ï¼šé€šè¿‡ x åˆ’åˆ†åŒºé—´ï¼Œç¬¬ä¸€ä¸ªåŒºé—´å°äºç­‰äº xï¼Œç¬¬äºŒä¸ªåŒºé—´å¤§äºç­‰äº x ğŸŒŸ

â€‹	â‘¢é€’å½’å¤„ç†å·¦å³ä¸¤æ®µåŒºé—´

â€‹	**å…³é”®ï¼šå¦‚ä½•ä¼˜é›…åœ°è°ƒæ•´åŒºé—´ï½**

- æ–¹æ³•ä¸€ï¼ˆæš´åŠ›ï¼‰ï¼š

  1. å¼€è¾Ÿä¸¤ä¸ªæ•°ç»„ï¼šaã€ã€‘ã€bã€ã€‘
  2. éå†æ•´ä¸ªå¾…æ’åºçš„æ•°ç»„ qã€leftï½rightã€‘ï¼Œæ¯” x å°çš„æ”¾åœ¨ aã€ã€‘ã€æ¯” x å¤§çš„æ”¾åœ¨ bã€ã€‘
  3. æŠŠ a ä¸­çš„æ•°æ”¾åˆ°q é‡Œé¢å»ã€æŠŠ b ä¸­çš„æ•°æ”¾åˆ° q é‡Œé¢å»

- æ–¹æ³•äºŒï¼ˆä¼˜ç¾ï¼‰ï¼š

  æ€è·¯ï¼šä¸éœ€è¦å¼€è¾Ÿç©ºé—´ï¼Œè¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆiï¼ˆçº¢è‰²ï¼‰ ï¼Œjï¼ˆç»¿è‰²ï¼‰ã€‚

  â‘ i å¾€å³èµ°ï¼šå½“ä¸æ»¡è¶³å°äº x çš„å€¼å°±åœä¸‹

  â‘¡j å¾€å·¦èµ°ï¼šå½“ä¸æ»¡è¶³å¤§äº x çš„å€¼å°±åœä¸‹

  â‘¢ åŒåŒäº¤æ¢ï¼Œäº¤æ¢ä¹‹åï¼Œä¸¤æŒ‡é’ˆåˆ†åˆ«ç§»åŠ¨ä¸€ä½

  â‘£ç›´åˆ° i å¤§äºç­‰äº j ï¼Œè‡³æ­¤ï¼Œåœ¨ x å·¦è¾¹çš„éƒ½æ¯” x å°ï¼Œåœ¨ x å³è¾¹çš„éƒ½æ¯” x å¤§

  ![image-20230918204105161](/Users/youngp/Library/Application Support/typora-user-images/image-20230918204105161.png)

  ä¾‹å­ï¼š

  â€‹	3    1    2    3    5

  1. å–æœ€å·¦çš„æ•° 3 ä¸ºåˆ†ç•Œç‚¹

  â€‹        æ­¤æ—¶3(i)    1    2    3    5(j)    ï¼Œiå’Œ j åˆ†åˆ«æŒ‡å‘ 3 å’Œ 5

  2. i ä¸æ»¡è¶³å°äº 3ï¼Œæ‰€ä»¥ i åœä¸‹æ¥

  3. j æ»¡è¶³å¤§äº 3ï¼Œæ‰€ä»¥å‘å·¦èµ°ï¼Œ3(i)    1    2    3(j)     5 

  4. j ä¸æ»¡è¶³ å¤§äº 3ï¼Œæ‰€ä»¥åœä¸‹æ¥ï¼Œä¸¤è€…äº’æ¢  ---->3(i)    1    2    3(j)     5 

  5. äº¤æ¢ä¹‹åï¼Œä¸¤æŒ‡é’ˆåˆ†åˆ«ç§»åŠ¨ä¸€ä½ã€‚---->3    1(i)    2(j)     3    5

  6. i æ»¡è¶³å°äº 3ï¼Œå‘åç§»åŠ¨ä¸€ä½ï¼Œi æ»¡è¶³å°äº 2ï¼Œå†å‘åç§»åŠ¨ã€‚---->3    1    2(j)     3(i)    5

  7. æ­¤æ—¶ i å¤§äº jï¼Œåœæ‰‹ã€‚è‡³æ­¤ï¼Œä»¥ j åˆ†ç•Œï¼Œå·¦è¾¹æ‰€æœ‰çš„æ•°éƒ½æ˜¯å°äºç­‰äº 3ï¼Œå³è¾¹æ‰€æœ‰çš„æ•°éƒ½æ˜¯å¤§äºç­‰äº 3

  

  *å¯ä»¥è§å¾—ï¼Œè¿™ç§é¢˜å¯¹äºè¾¹ç•Œçš„ç•Œå®šè¦æ±‚å¾ˆé«˜ï¼Œå¤§å®¶åœ¨é¢è¯•æˆ–è€…ç¬”è¯•çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆéš¾æœ‰è¶³å¤Ÿçš„æ—¶é—´æˆ–è€…ç¨³å®šçš„å¿ƒæ€æŠŠæ‰€æœ‰è¾¹ç•Œé—®é¢˜ææ¸…æ¥šï¼Œæ‰€ä»¥éœ€æœ‰ä¸€å¥—åƒé”¤ç™¾ç‚¼çš„æ¨¡æ¿*

  

##### æ¨¡æ¿

```java
private static int[] quickSort(int[] arr, int left, int right) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼Œå¦‚æœå·¦è¾¹ç•Œå¤§äºç­‰äºå³è¾¹ç•Œåˆ™è®¤ä¸ºé€’å½’ç»“æŸ
    if (left >= right) {
        return arr;
    }
    // è®¾å®šä¸€ä¸ªåˆ†ç•Œå€¼ï¼Œè¿™é‡Œæ˜¯ï¼ˆleft + rightï¼‰/ 2
    int p = arr[left + right >> 1];
    // å·¦å³æå‰é¢„ç•™ä¸€ä¸ªä½ç½®
    int i = left - 1;
    int j = right + 1;
    while (i < j) {
        // ç­‰æ•ˆäºdo while
        // å½“æ•°å€¼å°äºåˆ†ç•Œå€¼æ—¶æŒç»­éå†ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºåˆ†ç•Œå€¼çš„ç´¢å¼•
        // å¦‚æœæ˜¯é€†åºåˆ™è°ƒæ•´ä¸¤ä¸ªwhileå¾ªç¯
        while (arr[++i] < p)
            ;
        while (arr[--j] > p)
            ;
        // äº¤æ¢å·¦å³ä¸¤ä¾§ä¸ç¬¦åˆé¢„æœŸçš„æ•°å€¼
        if (i < j) {
            int temp = arr[i];
            arr[i] = arr[j];
            arr[j] = temp;
        }
    }
    // ç”±äºåˆ†ç•Œå€¼å–çš„æ˜¯left + right >> 1ï¼Œå› æ­¤é€’å½’å–çš„æ˜¯leftï¼Œj j + 1ï¼Œright
    quickSort(arr, left, j);
    quickSort(arr, j + 1, right);
    return arr;
}

```

```java
import java.util.Scanner;
import java.util.stream.IntStream;
public class Main {
public static void main(String[] args) {
    Scanner in = new Scanner(System.in);
    int n = in.nextInt();
    // Java8
    // IntStream.rangeç­‰æ•ˆäºforå¾ªç¯
    // toArrayç”Ÿæˆæ•°ç»„
    int[] arr = IntStream.range(0, n).map(i -> in.nextInt()).toArray();
    int[] sortedArr = quickSort(arr, 0, n - 1);
    IntStream.range(0, n).mapToObj(i -> sortedArr[i] + " ").forEach(System.out::print);
    /*
    for (int i = 0; i < n; i++) {
        int a = in.nextInt();
        arr[i] = a;
    }
    int[] sortedArr = quickSort(arr, 0, n - 1);
    for (int i = 0; i < n; i++) {
        System.out.print(sortedArr[i] + " ");
    }
    */
}

private static int[] quickSort(int[] arr, int left, int right) {
   //
}
```

##### æ³¨æ„äº‹é¡¹

1. ![image-20230919223535473](/Users/youngp/Library/Application Support/typora-user-images/image-20230919223535473.png)

   ç†è§£ï¼ši å’Œ j çš„ä½ç½®ï¼Œåº”å½“æ˜¯ i åœ¨å‰ï¼Œj åœ¨åï¼Œä½†æ˜¯å¯èƒ½å‡ºç° j åœ¨å‰ï¼Œi åœ¨åçš„åœºæ™¯

   å¦‚æœæ­¤æ—¶é€’å½’å‡½æ•°ä½¿ç”¨çš„è¾¹ç•Œä¸º quickSort (arr, left ,i) ä¸  quickSort (arr, i +1  , right)

   å°±åƒåä¾‹ä¸­çš„ 1(j) 3(i) 2. åªæœ‰ j æ»¡è¶³ å·¦éƒ¨åˆ†æ¯” x å°ï¼Œå³éƒ¨åˆ†æ¯” x å¤§ã€‚

2. ![image-20230925185427019](/Users/youngp/Library/Application Support/typora-user-images/image-20230925185427019.png)

3. å…³äºå¿«æ’ï¼Œè¿™ç¯‡ blog å†™å¾—å¾ˆå¥½ï¼Œé‡Œé¢æœ‰å¾ˆè¯¦ç»†çš„æ³¨æ„äº‹é¡¹ã€‚
   åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/SHU15121856/article/details/109839618

##### ä¾‹å­

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230926230923417.png" alt="image-20230926230923417" style="zoom:50%;" />

```java
import java.util.Scanner;
//ç¬¬ k ä¸ªæ•°
public class Main {
   public static void main(String[] args){
       Scanner in = new Scanner(System.in);
       int n = in.nextInt(), k = in.nextInt();
       int[] arr = new int[n + 1];
       for(int i = 1; i <= n; i++){
           arr[i] = in.nextInt();
       }
       quick_sort(arr, 1, n);
        System.out.println(arr[k]);
   }
   private static void quick_sort(int[] arr, int left, int right){
       if(left >= right) return;
       int l = left - 1;
       int r = right + 1;
       int x = arr[left + right >> 1];
       while(l < r) {
           while(arr[++l] < x) ;
           while(arr[--r] > x) ;
           if(l < r){
               int temp = arr[l];
               arr[l] = arr[r];
               arr[r] = temp;
           }
       }
       quick_sort(arr, left, r);
       quick_sort(arr, r+1 ,right);
       return;
   }



}
```

**æ³¨æ„ï¼š**è¿™æ¬¡åšçš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œäº§ç”Ÿäº†æ­»å¾ªç¯ã€‚

å› ä¸ºæˆ‘åœ¨

```java
int l = left;
       int r = right;
       int x = arr[left + right >> 1];
       while(l < r) {
           while(arr[l] < x) l++;
           while(arr[r] > x) r--;
//åŸæœ¬ï¼ŒåŒ…æ‹¬ä¸Šä¸€é¢˜æˆ‘éƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼Œèƒ½è¿‡ä¸€äº›é¢˜ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µæ¯”è¾ƒç‰¹æ®Šï¼Œè¿™æ ·å†™ç›´æ¥é€ æˆäº†æ­»å¾ªç¯
    //çœ‹ä¸€ä¸ªä¾‹å­ï¼
      10 10
50 43 63 97 30 89 89 94 30 33
        å– x çš„æ—¶å€™ï¼Œå–åˆ°çš„æ˜¯ 30
        ç„¶åç¬¬ä¸€æ¬¡ï¼š
        50 43 63 97 30 89 89 94 30 33
         l                       r      l r äº’æ¢
        
        30 43 63 97 30 89 89 94 50 33   è¿™ç§æƒ…å†µä¸‹ï¼Œl çš„å€¼åˆšå¥½ç­‰äºxï¼Œæ‰€ä»¥ l å°±å‡ºä¸å»äº†ï¼Œæ°¸è¿œåœ¨ ç¬¬ä¸€ä¸ªä½ç½®ï¼
        
```



#### 1.2 å½’å¹¶æ’åº

**æ—¶é—´å¤æ‚åº¦**ï¼šå¯ç”±è§†é¢‘ 40:00 å¾—çŸ¥ï¼ˆå¾…æ€»ç»“

##### æ€æƒ³

â€‹	ä¸»è¦æ€æƒ³ï¼š**åŸºäºåˆ†æ²»**

â€‹	æ­¥éª¤ï¼š

â€‹	â‘ ç¡®å®šåˆ†ç•Œç‚¹ï¼šmid = ï¼ˆl+rï¼‰/ 2

â€‹	â‘¡é€’å½’æ’åºleftï¼Œright

â€‹	â‘¢å½’å¹¶â€”â€”åˆäºŒä¸ºä¸€ ğŸŒŸ

##### æ¨¡ç‰ˆ

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args){
        Scanner in = new Scanner(System.in);
        int n = in.nextInt();
        int[] arr = new int[n];
        for(int a = 0; a < n; a++){
            arr[a] = in.nextInt();
        }
        marge_sort(arr, 0, n-1);
        for(int a = 0; a < n; a++){
            System.out.print(arr[a] + " ");
        }
    }
    private static void marge_sort(int[] arr, int left, int right){
       if(left >= right) return;
        int mid = left + right >> 1;

        //å…ˆé€’å½’
        marge_sort(arr, left, mid);
        marge_sort(arr, mid+1, right);
        //å†å½’å¹¶
        int i = left; int j = mid + 1;
        int[] temp = new int[right - left + 1]; //æ¯æ¬¡ä¸´æ—¶æ•°ç»„çš„é•¿åº¦
        int k = 0;
        while(i <= mid && j <= right){
            if(arr[i] <= arr[j]) temp[k++] = arr[i++];
            else temp[k++] = arr[j++];
        }
        while(i <= mid)
            temp[k++] = arr[i++];
        while(j <= right)
            temp[k++] = arr[j++];
        for(i = left,j = 0; i <= right; i++, j++){
            arr[i] = temp[j];
        }
       return;

    }

}
```

##### ä¾‹å­

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230927105011751.png" alt="image-20230927105011751" style="zoom:50%;" />

```Â java
//ä¸€å¼€å§‹æš´åŠ›è§£ï¼ä½†æ˜¯è‚¯å®šæ˜¯ä¸è¡Œçš„å•¦ï¼Œ100000 ä¸ªæ•°ï¼Œä½ æš´åŠ›ä¸ªæ¯›çº¿
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        int n = in.nextInt();
        int[] arr = new int[n];
        for(int i = 0; i < n; i++){
            arr[i] = in.nextInt();
        }
        int k = 0;
        for(int i = 0; i < n; i++){
            for(int j = i + 1; j < n; j++){
                if(arr[i] > arr[j]) k++;
            }
        }
        System.out.println(k);
    }
}
```

![image-20230927113815465](/Users/youngp/Library/Application Support/typora-user-images/image-20230927113815465.png)

ä¸‰ç§æƒ…å†µï¼šé€†åºå¯¹åŒåœ¨ mid å·¦è¾¹ã€å³è¾¹ã€æˆ–åˆ†åœ¨ä¸¤è¾¹

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230927123003265.png" alt="image-20230927123003265" style="zoom:50%;" />

```java
//é€†åºå¯¹çš„æ•°é‡
import java.util.Scanner;
public class Main{
    public static void main(String[] args){
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] arr =  new int[n];
        for(int i = 0;i < n;i++){
            arr[i] = scanner.nextInt();
        }
        long result = mergeSort(arr,0,n-1);
        System.out.println(result);
    }
    public static long mergeSort(int[] arr,int left,int right){
        if(left >= right) return 0;

        int mid = (left + right) / 2 ;
        long result = mergeSort(arr,left,mid) + mergeSort(arr,mid + 1,right);

        int[] temp = new int[right - left + 1];
        int k = 0,i = left,j = mid + 1;
        while(i <= mid && j <= right){
            if(arr[i] <= arr[j]) temp[k ++ ] = arr[i ++ ];
            else{
                temp[k ++ ] = arr[j ++ ];
                result += mid - i + 1;
            }
        }
        while(i <= mid) temp[k ++ ] = arr[i ++ ];
        while(j <= right) temp[k ++ ] = arr[j ++ ];

        for(i = left,j = 0;i <= right;i++,j++){
            arr[i] = temp[j];
        }
        return result;
    }
}
```



### 2.äºŒåˆ†

#### 2.1 æ•´æ•°

##### æ€æƒ³

![image-20230921082711730](/Users/youngp/Library/Application Support/typora-user-images/image-20230921082711730.png)

ä¸»è¦æ€æƒ³ï¼šæ‰¾ä¸€ä¸ªä½ç½®ï¼Œä½¿é€’å¢åŒºé—´çš„å·¦åŠè¾¹æ»¡è¶³æŸä¸ªæ€§èƒ½ï¼Œå³åŠè¾¹æ»¡è¶³æŸä¸ªæ€§èƒ½

æ¯æ¬¡äºŒåˆ†å‡ºæ¥çº¢è‰²æ®µä»¥åŠç»¿è‰²æ®µï¼Œä»¥å·¦å³ä¸¤ä¸ªä¸åŒåˆ†ç•Œç‚¹çš„å‰ªå¤´ï¼Œå½¢æˆä¸¤å¥—æ¨¡æ¿ã€‚

1.å‡è®¾è¦å¯»æ‰¾çš„æ•°ä¸º xï¼Œåˆ™**äºŒåˆ†æ³•å°†å…¶åˆ†æˆ>=xçš„å³åŠéƒ¨åˆ†å’Œ<xçš„å·¦åŠéƒ¨åˆ†ï¼Œæ‰¾å³åŠéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªæ•°**

![image-20230921100304109](/Users/youngp/Library/Application Support/typora-user-images/image-20230921100304109.png)

2.å‡è®¾è¦å¯»æ‰¾çš„æ•°ä¸º xï¼Œåˆ™**äºŒåˆ†æ³•å°†å…¶åˆ†æˆ<=xçš„å·¦åŠéƒ¨åˆ†å’Œ>xçš„å³åŠéƒ¨åˆ†ï¼Œæ‰¾å·¦åŠéƒ¨åˆ†çš„æœ€åä¸€ä¸ªæ•°**

![image-20230921100332773](/Users/youngp/Library/Application Support/typora-user-images/image-20230921100332773.png)

##### ä¾‹å­

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230921100707021.png" alt="image-20230921100707021" style="zoom:50%;" />

##### **æ¨¡æ¿**

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args){
       Scanner in = new Scanner(System.in);
       int n = in.nextInt(); //æ•°çš„ä¸ªæ•°
       int m = in.nextInt(); //æŸ¥è¯¢æ¬¡æ•°
       int[] arr = new int[n];
       for(int i = 0; i < n; i++){
           arr[i] = in.nextInt();
       }
       while(m-- > 0) { //æŸ¥è¯¢æ¬¡æ•°
           int x = in.nextInt();
           int l = 0, r = n - 1;
           while(l < r){
               int mid = (l + r) / 2;
               //æ‰¾å³åŠéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œå·¦åŠéƒ¨åˆ†éƒ½æ˜¯å°äº x çš„
               if(arr[mid] >= x) r = mid; //ä¸ºä»€ä¹ˆæ‰¾å³åŠéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œæ˜¯æ‰¾ >= xçš„å‘¢ï¼Ÿï¼š
             															//ifï¼ˆcheckï¼ˆmidï¼‰ï¼‰ true or false ï¼šcheckï¼ˆmidï¼‰å°±æ˜¯																					//çœ‹ arrã€midã€‘æ»¡ä¸æ»¡è¶³ç»¿è‰²é‚£æ®µ		
               else l = mid + 1;
           }
           //å½“ l = r æ—¶ï¼Œä¼šé€€å‡º
           if(arr[l] != x) System.out.println("-1 -1");
           else {
               System.out.print(l + " ");
               l = 0;
               r = n - 1;
               while(l < r){
                 int mid = (l + r + 1) / 2;//ä¸ºä»€ä¹ˆè¦+1 å‘¢ï¼šå¦‚ l = 3ï¼Œr=4ï¼Œl+r /2 = 3ï¼ˆå‘ä¸‹å–æ•´ï¼‰
                   if(arr[mid] <= x) l = mid;//å¦‚æœæ²¡æœ‰+1ï¼Œåˆ™ læ°¸è¿œç­‰äº 3ï¼Œæ­»å¾ªç¯äº†ï¼Œæ‰€ä»¥l=mid çš„æƒ…                        
                                             //å†µéœ€è¦å‘ä¸Šå–è¯
                 else r = mid - 1;
               }
               System.out.println(l);
           }


       }
       return;
    }

}
```



#### 2.2 æµ®ç‚¹æ•°

##### æ€æƒ³

ä¸»è¦æ€æƒ³ï¼š

(1) é¦–å…ˆæ‰¾åˆ°æ•°ç»„çš„ä¸­é—´å€¼ï¼Œmid=(left+right)>>1ï¼ŒåŒºé—´[left, right]è¢«åˆ’åˆ†æˆ[left, mid]å’Œ[mid , right]ã€‚

(2) ç„¶åé€šè¿‡check(mid)åˆ¤æ–­ä¸­é—´å€¼æ˜¯ä¸æ˜¯æ»¡è¶³è¿™ä¸ªæ€§è´¨ï¼Œä¿è¯è½åˆ°åŒºé—´é‡Œå°±å¯¹äº†ï¼Œcheckæ˜¯æ ¹æ®ä¸åŒçš„é¢˜å‹ç¼–å†™çš„ã€‚

(3) æœ€åå°±èƒ½ä½¿ç”¨æŠ˜åŠï¼Œç¼©å°åŒºé—´äº†ï¼Œå½“è®¤ä¸ºåŒºé—´å·²ç»å¾ˆå°çš„æ—¶å€™ï¼Œæ¯”å¦‚<=10^-6ï¼Œå…¶å®å°±æ‰¾åˆ°äº†ç­”æ¡ˆã€‚

**æµ®ç‚¹æ•°äºŒåˆ†å› ä¸ºæ²¡æœ‰æ•´é™¤ï¼Œæ¯æ¬¡éƒ½å¯ä»¥ä¸¥æ ¼çš„ç¼©å°ä¸€åŠï¼Œæ‰€ä»¥ä¸éœ€è¦å¤„ç†è¾¹ç•Œï¼Œç›¸å¯¹ç®€å•**

##### ä¾‹å­

#### <img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230922090551657.png" alt="image-20230922090551657" style="zoom:50%;" />

##### æ¨¡æ¿

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args){
       Scanner in = new Scanner(System.in);
       double n = in.nextDouble(); //è¾“å…¥æµ®ç‚¹æ•° n
       double l = -10000, r = 10000;
       while(r - l > 1e-8){ //10çš„è´Ÿå…«æ¬¡æ–¹
           double mid = (r + l) / 2;
           if(mid * mid * mid >= n) r = mid;
           else l = mid;
       }
        System.out.printf("%.6f",l);
       return;
    }

}
```

### 3.é«˜ç²¾åº¦è®¡ç®—

https://www.acwing.com/solution/content/34210/

**è²Œä¼¼ java ä¸­ä¸éœ€è¦å¾ˆä¸¥è‚ƒå¤„ç†**

###  4.å‰ç¼€å’Œ

##### æ€æƒ³

ä¸»è¦æ€æƒ³ï¼šè¿™é“é¢˜ç†è§£èµ·æ¥ç®—æ˜¯ç®€å•é¢˜ï¼Œå°±æ˜¯æ±‚å‡ ä¸ªåŒºé—´å†…è¿ç»­çš„æ•°å­—çš„å’Œ

Si = a1 + a2 + a3 + ... + ai å…¶ä¸­ S0 = 0ï¼›ï¼ˆæ³¨ï¼šæ•°å­—ä¸ºä¸‹æ ‡ï¼‰

ä¸ºä»€ä¹ˆè¦ S0 = 0 å‘¢ï¼Ÿæ¶‰åŠçš„æ˜¯è¾¹ç•Œé—®é¢˜ï¼Œå‡è®¾è¦æ±‚ a7+a8+a9+...+a100 çš„å’Œï¼Œé€‚ç”¨S100 - S6 å»è®¡ç®—

é‚£ä¹ˆå½“è¦è®¡ç®— a1 + a2 +... +ai ,è®¡ç®—çš„å…¬å¼å°±æ˜¯Si - S0ã€‚

##### ä¾‹å­

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230922112125762.png" alt="image-20230922112125762" style="zoom:50%;" />

##### æ¨¡æ¿

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args){
       Scanner in = new Scanner(System.in);
       int n = in.nextInt();
       int m = in.nextInt();
       int[] arr = new int[n+1];//è¾“å…¥çš„æ•°å­—ä» 1 å¼€å§‹æ’ï¼Œæ‰€ä»¥éœ€è¦+1 ä¸ªå®¹é‡
       int[] S = new int[n+1];
        S[0] = 0;
       for(int i = 1; i <= n; i++){
           arr[i] = in.nextInt();
       } 
       for(int i = 1; i <= n; i++){
           S[i] = S[i - 1] + arr[i];//å‰ç¼€å’Œçš„åˆå§‹åŒ–
       }
       while(m-- > 0){
           int i = in.nextInt();
           int j = in.nextInt();
           System.out.println(S[j] - S[i - 1]);//åŒºé—´å’Œçš„è®¡ç®—
       }
    }
}
```

### 5.äºŒç»´å‰ç¼€å’Œ

##### æ€æƒ³

ä¸»è¦æ€æƒ³ï¼š

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230922160607512.png" alt="image-20230922160607512" style="zoom:50%;" />

å¦‚å›¾æ‰€ç¤ºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè¦æ±‚ **æ±‚é˜´å½±é¢ç§¯é‡Œæ•°**çš„å’Œã€‚

å…¶ä¸­Sx2y2 è¡¨ç¤º

![image-20230922160746082](/Users/youngp/Library/Application Support/typora-user-images/image-20230922160746082.png)

è¿™ä¸€é¢ç§¯é‡Œæ•°çš„å’Œï¼Œæ‰€ä»¥é˜´å½±é¢ç§¯é‡Œæ•°çš„å’Œç­‰äºå›¾ä¸­çš„å…¬å¼ã€‚

**å¦‚ä½•æŠŠSij ç®—å‡ºæ¥**

![image-20230922163155597](/Users/youngp/Library/Application Support/typora-user-images/image-20230922163155597.png)

##### **ä¾‹å­**

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230922163227148.png" alt="image-20230922163227148" style="zoom:50%;" />

##### æ¨¡ç‰ˆ

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args){
      Scanner in = new Scanner(System.in);
      int n = in.nextInt();
      int m = in.nextInt();
      int q = in.nextInt();
      int[][] arr = new int[n+1][m+1];
      int[][] S = new int[n+1][m+1];
      for(int i = 1; i <= n; i++){ //è¾“å…¥æ•°æ®
          for(int j = 1; j <= m; j++){
              arr[i][j] = in.nextInt();
          }
      }
      //å¤„ç†æ¯ä¸ªSij
        for(int i = 1; i <= n; i++){
            for(int j = 1; j <= m; j++){
                S[i][j] = S[i - 1][j] + S[i][j - 1] - S[i - 1][j - 1] + arr[i][j];
            }
        }
      while(q-- > 0){
//          int i1 = in.nextInt(), j1 = in.nextInt(), i2 = in.nextInt(), j2 = in.nextInt();
//          System.out.println(S[i2][j2] - S[i1][j2] - S[i2][j1] + S[i1][j1]);
          int x1 = in.nextInt();
          int y1 = in.nextInt();
          int x2 = in.nextInt();
          int y2 = in.nextInt();
          System.out.println(S[x2][y2] - S[x2][y1 - 1] - S[x1 - 1][y2] + S[x1 - 1][y1 - 1]);
      }
    }
}
```

##### **æ³¨æ„äº‹é¡¹**

```java
//          int i1 = in.nextInt(), j1 = in.nextInt(), i2 = in.nextInt(), j2 = in.nextInt();
//          System.out.println(S[i2][j2] - S[i1][j2] - S[i2][j1] + S[i1][j1]);
æˆ‘å†™äº†æœ€åæ±‚è¾“å‡ºçš„æ—¶å€™ï¼Œå‡ºé”™äº†ï¼ŒåŸå› æ˜¯å¯¹è¿™ä¸ªçŸ©é˜µæ¨¡å‹é”™è¯¯è®¤çŸ¥äº†ï¼Œæ²¡æœ‰ - 1
```

![image-20230922230619649](/Users/youngp/Library/Application Support/typora-user-images/image-20230922230619649.png)

å¦‚å›¾æ‰€ç¤ºï¼Œ

è¦æ±‚ç°è‰²åŒºåŸŸçš„é¢ç§¯ï¼Œç”¨S[x2] [y2] å°±æ˜¯<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230922230725204.png" alt="image-20230922230725204" style="zoom:50%;" />

è¿™ä¸€æ®µå…¨éƒ¨çš„é¢ç§¯ï¼Œè¦å‡å»ç²‰çº¢è‰²çš„é¢ç§¯ï¼Œæˆ‘æ²¡æœ‰åšå‡ä¸€å¤„ç†

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230922230856224.png" alt="image-20230922230856224" style="zoom:50%;" />

è¿™ç»¿è‰²æ¡†èµ·æ¥çš„ï¼Œä¸ºS[x2] [ y1 - 1]

### 6. å·®åˆ†

##### æ€æƒ³

ä¸»è¦æ€æƒ³ï¼š

åŸæ•°ç»„ a1ï¼Œa2ï¼Œa3ï¼Œa4ï¼Œ.....ï¼Œan

æ„é€ æ•°ç»„ b1ï¼Œb2ï¼Œb3ï¼Œb4ï¼Œ.....ï¼Œbn

ä½¿å¾— bi = a1+a2+a3+...+ai    **a æ•°ç»„æ˜¯ b æ•°ç»„çš„å‰ç¼€å’Œï¼Œb æ•°ç»„ç§°ä¸º a çš„å·®åˆ†**
<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230923223340057.png" alt="image-20230923223340057" style="zoom:50%;" />

å¦‚æœæœ‰ b æ•°ç»„ï¼Œå¯ä»¥åœ¨ Oï¼ˆnï¼‰çš„æ—¶é—´å¤æ‚åº¦ç®—å‡º a æ•°ç»„

##### ä¾‹å­1

ä¸¾ä¸ªæ —å­ï¼Œå‡è®¾éœ€è¦ a æ•°ç»„ï¼Œåœ¨[ l , r] èŒƒå›´é‡Œ + å®šå€¼ cï¼Œal + c ï¼Œal+1 + cï¼Œal+2 + c. ....ï¼Œar + c

å¦‚æœåœ¨ a æ•°ç»„é‡Œæ“ä½œï¼Œéœ€è¦ Oï¼ˆnï¼‰çš„æ—¶é—´å¤æ‚åº¦

ä½†æ˜¯**å·®åˆ†çš„å¥½å¤„æ¥äº†ï¼Œåœ¨ b æ•°ç»„é‡Œï¼Œåªéœ€è¦ Oï¼ˆ1ï¼‰**

å³ä½¿ç”¨ **bl + c**

 ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º al = b1 + b2 +...+ blï¼Œbl + cï¼Œæ‰€ä»¥ al ä¹ŸåŠ ä¸Š c

al+1 = b1 + b2 + ... +bl + bl+1ï¼Œal + 1 ä¹ŸåŠ ä¸Šäº† c

æ‰€ä»¥åªè¦æ“ä½œä¸€ä¸ª bl + cï¼Œå³å¯ä»¥åœ¨ Oï¼ˆ1ï¼‰å®ç°éœ€æ±‚ï¼Œå¾ˆæ˜¯æ–¹ä¾¿ï¼

ä½†æ˜¯éœ€è¦åŠ ä¸Šä¸€ä¸ª **è¡¥ä¸**ï¼Œå³ br+1 - cï¼Œä¸ç„¶ar åé¢çš„æ‰€æœ‰å€¼éƒ½ä¼š + c äº†ï¼

##### ä¾‹å­ 2

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230923231443714.png" alt="image-20230923231443714" style="zoom:50%;" />

**å…³é”®ç‚¹ï¼šå¦‚ä½•åˆå§‹åŒ–b æ•°ç»„**

é¦–å…ˆï¼ŒæŠŠ a[] b[] ä¸¤æ•°ç»„éƒ½åˆå§‹åŒ–ä¸ºå…¨éƒ¨ 0ï¼Œè¿™æ ·ä¹Ÿæ»¡è¶³ä¸¤æ•°ç»„å·®åˆ†å’Œå‰ç¼€å’Œçš„æ€§è´¨ï¼Œå¯¹å§ï¼Ÿ

ç„¶åï¼Œä¸€ä¸ªä¸€ä¸ªå¤„ç†ä¸¤ä¸ªæ•°ç»„ã€‚

æŒ‰ç…§ä¾‹2 çš„è¾“å…¥æ ·ä¾‹ã€‚é¦–å…ˆ a[1] = 1 ,

æ•´ä¸ª a æ•°ç»„ä¸º aï¼š 1 0 0 0 0 0ï¼Œ**ğŸŒŸå°±å½“ä½œ**ä¾‹1 ä¸€æ ·ï¼Œåœ¨ l = r = 1 çš„èŒƒå›´é‡Œï¼Œæ’å…¥ c = 1 å»æ”¹é€  b æ•°ç»„.å¥½ç†è§£å§ï¼

æ‰€ä»¥æ­¤æ—¶ï¼Œb æ•°ç»„çš„ b[l] + c, b[r + 1] - c, æ‰€ä»¥ b æ•°ç»„ä¸º 1 -1 0 0 0 0

æ¥ä¸‹æ¥å°±ä¸€ä¸ªä¸€ä¸ªæ•°å­—å¤„ç†å°±å¥½å•¦ï¼

```java
import java.util.Scanner;

public class Main {
    static Scanner in = new Scanner(System.in);
    static int n;
    static int m;
    static  int N = 100010;
    static int[] a = new int[N];
    static int[] b = new int[N];

    private static void insert(int l, int r, int c) {
        b[l] += c;
        b[r + 1] -= c;
    }

    public static void main(String[] args){
     n = in.nextInt();
     m = in.nextInt();
     for(int i = 1; i <= n; i++){
         a[i] = in.nextInt();
     }
     for(int i = 1; i <= n; i++){
         insert(i, i , a[i]);
     }
     while(m -- > 0){
         int l = in.nextInt();
         int r = in.nextInt();
         int c = in.nextInt();
         insert(l, r, c);
     }
     for(int i = 1 ; i <= n ; i++){
         a[i] = a[i - 1] + b[i];
         System.out.print(a[i] + " ");
     }
    }


}
```

å¯¹äºæ•°ç»„è¶Šç•Œçš„é—®é¢˜

æˆ‘è¿™æ ·åšå°±ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜

```java
import java.util.Scanner;

public class Main {
    static Scanner in = new Scanner(System.in);
    static int n;
    static int m;
    static int[] a ;
    static int[] b ;

    private static void insert(int l, int r, int c) {
        b[l] += c;
        b[r + 1] -= c;
    }

    public static void main(String[] args){
     n = in.nextInt();
     m = in.nextInt();
     a = new int[n + 1]; //è¿™é‡Œ
     b = new int[n + 2]; //è¿™é‡Œ + 2 çš„åŸå› æ˜¯ insert é‡Œé¢ r è¿˜è¦ + 1
      //æ‰€ä»¥ä»–ä»¬éƒ½æ˜¯ç”¨N = 100010 ç›´æ¥å®šä¹‰äº†
      for(int i = 1; i <= n; i++){
         a[i] = in.nextInt();
     }
     for(int i = 1; i <= n; i++){
         insert(i, i , a[i]);
     }
     while(m -- > 0){
         int l = in.nextInt();
         int r = in.nextInt();
         int c = in.nextInt();
         insert(l, r, c);
     }
     for(int i = 1 ; i <= n ; i++){
         a[i] = a[i - 1] + b[i];
         System.out.print(a[i] + " ");
     }
    }


}
```

### 7. å·®åˆ†çŸ©é˜µ

##### æ€æƒ³

ä¸»è¦æ€æƒ³ï¼š

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230925202400144.png" alt="image-20230925202400144" style="zoom:50%;" />

*æœ‰åŸäºŒç»´çŸ©é˜µ**a**ijï¼Œæ„é€ å·®åˆ†äºŒç»´çŸ©é˜µ **b**ijï¼Œä½¿å¾— **a**ij ä¸º **b**ij å·¦ä¸Šè§’æ‰€æœ‰æ•°çš„å’Œï¼›*

**æ„é€ ï¼š**ä¸ä¸Šé¢ä¸€æ ·ï¼Œä½¿å¾—ä¸¤ä¸ªäºŒç»´æ•°ç»„çš„åˆå§‹åŒ–éƒ½ä¸º 0ï¼›

ä¸€ç»´å·®åˆ†æ˜¯åœ¨æ•°ç»„çš„ä¸€æ®µåŠ ä¸Šä¸€ä¸ªå€¼ï¼ŒäºŒç»´çš„è¯æ˜¯ç»™å…¶ä¸­ä¸€ä¸ªå­çŸ©é˜µåŠ ä¸Šä¸€ä¸ªå€¼

**å…³é”®å›¾ç¤ºå¦‚å›¾æ‰€ç¤ºï¼š**

![image-20230925204410774](/Users/youngp/Library/Application Support/typora-user-images/image-20230925204410774.png)

##### ä¾‹å­

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230925204743717.png" alt="image-20230925204743717" style="zoom: 50%;" />

##### æ¨¡ç‰ˆ

```java
import java.util.Scanner;
//å·®åˆ†çŸ©é˜µ
public class Main {
     static int n,m;
     static int[][] arr, brr;
    public static void main(String[] args) {
      Scanner in = new Scanner(System.in);
      n = in.nextInt(); m = in.nextInt();
      int q = in.nextInt();
      arr = new int[n+10][m+10];
      brr = new int[n+10][m+10];
      for(int i = 1; i <= n; i++){
          for(int j = 1; j <= m; j++){
              arr[i][j] = in.nextInt();
              insert(i, j, i, j, arr[i][j]);
          }
      }
      while(q -- > 0){
          int x1 = in.nextInt(), y1 = in.nextInt(), x2 = in.nextInt(), y2 = in.nextInt();
          int c = in.nextInt();
          insert(x1, y1, x2, y2, c);
      }
        for(int i = 1; i <= n; i++){
            for(int j = 1; j <= m; j++){
                arr[i][j] = brr[i][j] + arr[i][j-1] + arr[i-1][j] - arr[i-1][j-1];
              //ç”± b æ•°ç»„æ±‚å‰ç¼€å’Œå¾—åˆ°æœ€ç»ˆçš„ a æ•°ç»„
              //arr[i][j - 1]å°±æ˜¯ brr[i][j] å·¦ä¾§ä¸€ä¸ªç‚¹çš„å·¦ä¸Šè§’æ‰€æœ‰æ•°çš„å’Œ
                System.out.print(arr[i][j] + " ");
                if(j == m) System.out.println();
            }
        }
    }
    private static void insert(int x1, int y1, int x2, int y2, int c){
        brr[x1][y1] += c;
        brr[x2+1][y1] -= c;
        brr[x1][y2+1] -= c;
        brr[x2+1][y2+1] += c;
    }

}
```

### 8.åŒæŒ‡é’ˆç®—æ³•

##### æ€æƒ³

ä¸»è¦æ€æƒ³ï¼š

ä¸¤å¤§ç±»ï¼š

â‘ å½’å¹¶æ’åºçš„ä¸¤ä¸ªæœ‰åºåºåˆ—åˆå¹¶è¿‡ç¨‹ä¹Ÿæ˜¯ä¸ªåŒæŒ‡é’ˆç®—æ³•ã€‚è¿™ç§æ˜¯æŒ‡é’ˆåœ¨ä¸¤ä¸ªä¸åŒçš„åºåˆ—ã€‚

â‘¡è¿˜æœ‰ä¸€ç±»æ˜¯ç±»ä¼¼äºå¿«æ’çš„è¿‡ç¨‹ï¼Œå¦‚å¿«æ’æ—¶çš„ä¸¤ä¸ªæŒ‡é’ˆã€‚

å¤§éƒ¨åˆ†éƒ½æ˜¯å¦‚ä¸‹çš„å†™æ³•ï¼š

```java
for(i = 0,j = 0; i < n; i++){
  while(j < i &&check(i,j)) j++;
  //æ¯é“é¢˜ç›®çš„å…·ä½“é€»è¾‘
}
```

åŒæŒ‡é’ˆç®—æ³•æ ¸å¿ƒæ€æƒ³ï¼š**ä¼˜åŒ– **ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ï¼›æŠŠæš´åŠ›åšæ³•ä¼˜åŒ–åˆ° O(n)ã€‚

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230930162409209.png" alt="image-20230930162409209" style="zoom:40%;" />

 ä¾‹å¦‚è¿™é“é¢˜ã€‚è¾“å…¥ abc def ghi ã€‚è¦æ±‚æ˜¯æŠŠæ¯ä¸ªå•è¯è¾“å‡ºå‡ºæ¥ã€‚

æ˜¾ç„¶å¯ä»¥ç”¨æš´åŠ› çš„æ–¹æ³•ï¼Œå¥—ä¸¤å±‚ for å¾ªç¯æ¥è§£å†³ã€‚

##### ä¾‹å­

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230930162809114.png" alt="image-20230930162809114" style="zoom:50%;" />

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20230930163110353.png" alt="image-20230930163110353" style="zoom:33%;" />

<img src="/Users/youngp/Library/Application Support/typora-user-images/image-20231001161747870.png" alt="image-20231001161747870" style="zoom:50%;" />

##### æ¨¡æ¿

```java
package com.company;

import java.util.Scanner;
public class Main {
    public static void main(String[] args){
        Scanner scan = new Scanner(System.in);
        int n = scan.nextInt();
        int[] a = new int[100010];
        int[] s = new int[100010];
        for(int i = 0 ; i < n ; i ++ ){
            a[i] = scan.nextInt();
        }
        int res = 0;
        for(int i = 0 , j = 0 ;i < n ; i ++ ){
            //æ¯”å¦‚ä¸€å¼€å§‹S[2]æ˜¯0ï¼›ç„¶åä½ çš„a[1] = 2;é‚£ä¹ˆs[2] = 1;
            //ç„¶åå¦‚æœa[2] = 2 ;é‚£ä¹ˆç¬¬äºŒæ¬¡å‡ºç°æ‰€ä»¥s[2] = 2;è¿™æ ·æ¥è¯æ˜æ˜¯ä¸æ˜¯å‡ºç°ä¸¤æ¬¡
            s[a[i]] ++ ;
            while(j < i && s[a[i]] > 1){
                //ä¸€å¼€å§‹jæ˜¯è·Ÿiåœ¨åŒä¸ªä½ç½®ï¼Œiåœ¨ç§»åŠ¨ï¼ŒjåŸåœ°ä¸åŠ¨ï¼Œåªè¦ä¸Šé¢å‡ºç°ä¸¤æ¬¡ï¼Œjå¼€å§‹ç§»åŠ¨
                //ç§»åŠ¨åˆ° j çš„æé™ï¼Œå³åŒºé—´å†…æ²¡æœ‰é‡å¤æ•°å­—
                s[a[j]] -- ;
                j++;
            }
            //i-j+1æ˜¯ç»Ÿè®¡é•¿åº¦çš„å…¬å¼ï¼›
            res = Math.max(res, i-j+1); System.out.println(res);

        }
        System.out.println(res);
    }
}
```

â€‹                       